webpackJsonp([2],{Hkhi:function(t,e){},HzJ8:function(t,e,s){t.exports={default:s("l+I1"),__esModule:!0}},dNMy:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("HzJ8"),i=s.n(a),n=s("gyMJ"),l={name:"userManegement",data:function(){return{inputName:"",inputSex:"",inputTel:"",inputlogin:"",inputPass:"",dialogVisible:!1,tableData:[],currentPage:1,pagesize:10,total:0}},created:function(){this.getUser()},methods:{getUser:function(){var t=this;this.tableData=[];var e={page:this.currentPage,rows:this.pagesize};n.a.getUserInfo(e).then(function(e){console.log(e.obj.list);var s=!0,a=!1,n=void 0;try{for(var l,o=i()(e.obj.list);!(s=(l=o.next()).done);s=!0){var r=l.value;1==r.sex?r.sex="男":0==r.sex&&(r.sex="女"),t.tableData.push(r)}}catch(t){a=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(a)throw n}}t.total=e.obj.total})},del:function(t){var e=this,s=this,a={userid:t.id};console.log(),n.a.deleteUser(a).then(function(t){console.log(t),"禁用成功！"==t.msg&&e.$message({showClose:!0,message:"删除成功",type:"success"}),s.getUser()}).catch(function(t){console.error(t)})},add:function(){this.dialogVisible=!0},addUser:function(){var t=this,e=this;if("男"==this.inputSex||"女"==this.inputSex)if(console.log(this.inputSex),/^1[34578]\d{9}$/.test(this.inputTel)){"女"==this.inputSex?this.inputSex=0:"男"==this.inputSex&&(this.inputSex=1),console.log(this.inputSex);var s={username:this.inputlogin,password:this.inputPass,name:this.inputName,tel:this.inputTel,sex:this.inputSex};n.a.addUser(s).then(function(s){t.$message({showClose:!0,message:s.msg,type:"success"}),e.getUser()}),this.dialogVisible=!1,this.inputName="",this.inputSex="",this.inputTel="",this.inputlogin="",this.inputPass=""}else this.$message({showClose:!0,message:"请输入正确的手机号",type:"warning"});else this.$message({showClose:!0,message:"请输入男或女",type:"warning"})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.pagesize=t,this.getUser()},handleCurrentChange:function(t){console.log("当前页: "+t),this.currentPage=t,this.getUser()},tableRowClassName:function(t){t.row;var e=t.rowIndex;return 1===e?"warning-row":3===e?"success-row":""}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"addUserBtn"},[s("el-button",{staticStyle:{width:"80px"},attrs:{type:"primary"},on:{click:function(e){return t.add()}}},[t._v("增加")])],1),t._v(" "),s("div",{staticClass:"table"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName}},[s("el-table-column",{attrs:{prop:"username",label:"用户名"}}),t._v(" "),s("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),s("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),s("el-table-column",{attrs:{prop:"tel",label:"手机号"}}),t._v(" "),s("el-table-column",{attrs:{prop:"addDelete",label:"删除"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.del(e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),s("div",{staticClass:"addUser"},[s("el-dialog",{attrs:{title:"增加用户",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"addUserInfo"},[s("p",[s("span",{staticClass:"align"},[t._v("姓名：")]),s("span",[s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.inputName,callback:function(e){t.inputName=e},expression:"inputName"}})],1)]),t._v(" "),s("p",[s("span",{staticClass:"align"},[t._v("性别：")]),s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.inputSex,callback:function(e){t.inputSex=e},expression:"inputSex"}})],1),t._v(" "),s("p",[s("span",{staticClass:"align"},[t._v("手机号：")]),s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.inputTel,callback:function(e){t.inputTel=e},expression:"inputTel"}})],1),t._v(" "),s("p",[s("span",{staticClass:"align"},[t._v("账号：")]),s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.inputlogin,callback:function(e){t.inputlogin=e},expression:"inputlogin"}})],1),t._v(" "),s("p",[s("span",{staticClass:"align"},[t._v("密码：")]),s("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.inputPass,callback:function(e){t.inputPass=e},expression:"inputPass"}})],1)]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addUser()}}},[t._v("确 定")])],1)])],1),t._v(" "),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var r=s("C7Lr")(l,o,!1,function(t){s("Hkhi")},"data-v-372da4f0",null);e.default=r.exports},"l+I1":function(t,e,s){s("SXOF"),s("mxCW"),t.exports=s("o6D2")},o6D2:function(t,e,s){var a=s("fRqy"),i=s("d+Iz");t.exports=s("Rv9F").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}}});
//# sourceMappingURL=2.acd7b7f30e9347fb23b3.js.map